---
title: "知识图谱发展报告（2022）-知识推理"
showAuthor: false
date: 2022-09-24
description: "介绍知识推理"
slug: "Knowledge-Reasoning"
tags: ["报告", "KG", "知识推理"]
series: ["KG发展报告（2022）"]
series_order: 7
weight: 7
draft: false
---


![image.png](https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/IdWJzN.png)

> 参考：知识图谱发展报告（2022）[下载链接](https://url39.ctfile.com/f/2501739-668230065-8345de?p=2096) (访问密码: 2096)
> 

知识图谱（KG）已成为驱动现代AI应用的核心引擎，但其构建过程中固有的**不完备性（Incompleteness）** 和**噪声（Noise）** 两大问题，严重制约了其实际效能。知识推理技术正是为了解决这些挑战而生，它旨在从现有数据中推导出新知识或检测逻辑冲突，从而释放知识图谱的全部潜力。本文将深入剖析知识推理的三大核心技术脉络：基于本体的符号推理、基于表示学习的统计推理，以及将二者优势融合的混合推理，并展望其未来发展趋势。

### **一、 传统推理之路：基于本体的符号推理**

符号推理是知识推理的经典范式，它依赖于形式化的逻辑（如描述逻辑）和预定义的规则来进行严谨的演绎。这种方法的核心在于利用本体（Ontology）中定义的公理和约束，来丰富和净化知识图谱。

**1. 技术核心：物化与查询改写**

符号推理主要通过两种方式实现：

- **本体物化 (Ontology Materialization)**：这是一种“预计算”策略，通过前向链推理，将本体中所有隐含的知识（三元组）全部推导出来，并显式地添加到数据集中。这样做的好处是查询时速度快，但缺点也十分明显：当本体复杂或存在循环依赖时，可能会产生无穷尽的推理结果，导致“物化爆炸”。`SUMA`系统便是一种通过部分物化来规避此问题的代表性工作。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/5fp4TL.png" alt="SUMA 系统架构图">
  <figcaption>图1 SUMA 系统架构图</figcaption>
</figure>



- **查询改写 (Query Rewriting)**：与物化相反，这是一种“即时计算”策略。它在查询阶段，根据本体知识将用户的原始查询（如SPARQL）改写成一个更完备的新查询，这个新查询能够从原始数据中直接获取所有（包括隐含的）答案。这种方法常用于虚拟知识图谱（VKG）中，它避免了存储开销，但改写过程本身可能非常耗时，且改写的查询规模可能呈指数级增长。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/fGl7AD.png" alt="虚拟知识图谱系统实例">
  <figcaption>图2 虚拟知识图谱系统实例</figcaption>
</figure>



**2. 代表性引擎：PAGOdA**

`PAGOdA` 是一个高效的可扩展推理引擎，它巧妙地结合了物化和即时推理。其核心思想是将大部分计算负载委托给高性能的Datalog引擎（如RDFox），仅在处理关键且复杂的逻辑时，才调用重量级的OWL推理机（如HermiT），从而在完备性和效率之间取得了出色的平衡。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/EgNbHr.png" alt="PAGOdA 系统架构图">
  <figcaption>图3 PAGOdA 系统架构图</figcaption>
</figure>



总的来说，符号推理逻辑严谨、过程可解释，在保证数据一致性方面表现卓越。但其对高质量本体和规则的依赖、以及固有的计算复杂性，限制了其在超大规模和噪声数据环境下的应用。

### **二、 数据驱动的新浪潮：基于表示学习的统计推理**

随着深度学习的兴起，数据驱动的统计推理为知识推理开辟了新路径。其核心思想是将知识图谱中的实体和关系映射到低维连续的向量空间中，通过向量运算来模拟推理过程。

**1. 知识图谱嵌入 (KG Embedding)**

这是最主流的统计推理方法，旨在为知识图谱补全（Link Prediction）。它通过设计一个评分函数 `f(h, r, t)` 来评估三元组的置信度。

- **经典模型**：`TransE` 模型将关系视为头实体到尾实体的翻译（`h + r ≈ t`），模型简单高效。但它难以处理对称、一对多等复杂关系。
- **演进模型**：后续的 `RotatE` 将关系建模为复数空间中的旋转操作，`BoxE` 则使用“盒子”嵌入来表达更丰富的逻辑关系，显著提升了对复杂关系的建模能力。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/LlgoIO.png" alt="不同嵌入模型对不同推理模式的表达能力">
  <figcaption>图4 不同嵌入模型对不同推理模式的表达能力</figcaption>
</figure>


**2. 图神经网络 (GNNs)**

GNNs通过聚合邻居节点信息来学习实体表示，能更充分地利用图谱的局部结构信息。`R-GCN` 和 `CompGCN` 等模型为知识图谱的异构性（即不同的关系类型）设计了专属的聚合机制。GNNs的一大优势是其具备**归纳推理（Inductive Reasoning）**的能力，能够对训练时未出现的新实体进行推理，这在动态变化的知识图谱中尤为重要。`GraIL` 和 `CoMPILE` 等工作通过抽取局部子图进行推理，是这一方向的代表。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/sgGV4o.png" alt="R-GCN 和 CompGCN 模型聚合过程示例">
  <figcaption>图5 R-GCN 和 CompGCN 模型聚合过程示例</figcaption>
</figure>


**3. 本体表示学习 (Ontology Representation Learning)**

此类方法更进一步，不仅学习实例层（ABox）的事实，还致力于将本体层（TBox）的公理和概念层次结构编码到向量空间中。例如，`EL Embedding` 模型利用高维空间中的球体来表示概念，通过球体之间的位置关系（如包含、相交）来建模概念间的逻辑关系，实现了逻辑与表示的深度融合。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/rF5LdG.png" alt="EL Embedding 可视化的概念表示">
  <figcaption>图6 EL Embedding 可视化的概念表示</figcaption>
</figure>


统计推理方法泛化能力强，能从数据中自动学习模式，但其“黑盒”特性导致可解释性差，且推理结果不具备符号逻辑的严格保证。

### **三、 两全其美：符号与嵌入的混合推理**

为了结合两者的优点，混合推理应运而生，并迅速成为当前研究的热点。其核心目标是让符号知识指导表示学习，同时用统计模型弥补符号逻辑的脆弱性。

**1. 规则注入嵌入 (Injecting Rules into Embeddings)**

这种思路是将符号规则作为一种“软约束”融入嵌入模型的训练过程中。例如，可以在损失函数中增加一项，惩罚那些不符合逻辑规则的嵌入表示（如`KALE`模型）；或者利用规则推理出高置信度的新三元组，并将其加入训练数据中，从而迭代地增强模型和知识图谱（如`IterE`模型）。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/G3WtMc.png" alt="IterE 中详细的推理过程">
  <figcaption>图7 IterE 中详细的推理过程</figcaption>
</figure>



**2. 嵌入赋能推理 (Empowering Reasoning with Embeddings)**

反之，也可以用嵌入的“模糊”能力来“软化”刚性的符号推理过程。在复杂查询回答任务中，`GQE` 和 `Query2box` 等模型将逻辑运算符（如与`∧`、或`∨`）映射为向量空间中的几何运算（如交集、并集），使得推理过程可以处理不确定性。在定理证明方面，`NTP`（神经定理证明器）等工作将Prolog的符号推理与实体/关系的相似性计算相结合，使其能够进行更灵活的“模糊匹配”，缓解了因知识图谱不完备导致的推理链中断问题。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/mCLxLS.png" alt="基于 NTP 计算图的示例性构造案例">
  <figcaption>图8 基于 NTP 计算图的示例性构造案例</figcaption>
</figure>



**3. 多跳推理与规则归纳**

混合推理也在更复杂的任务中展现了巨大潜力。在多跳问答中，`EmbedKGQA` 模型通过将问题和推理路径共同嵌入向量空间，实现了高效的答案查找。在规则归纳（即从数据中学习规则）方面，`RuLES` 和 `NeuralLP` 等模型利用嵌入表示来指导规则的搜索和学习过程，让机器能够自动发现高质量的逻辑规则。


<figure>
  <img src="https://cdn.jsdelivr.net/gh/gongzitaiyi/picture@master/uPic/2025/11/O0HN8I.png" alt="EmbedKGQA 的框架概览">
  <figcaption>图9 EmbedKGQA 的框架概览</figcaption>
</figure>



### **总结与展望**

知识推理技术正沿着一条从纯符号、纯统计到二者深度融合的路径演进。虽然已经取得了显著进展，但要实现真正大规模、高可靠的工业应用，仍面临诸多挑战。

**核心启示 (Key Takeaways):**

1. **融合是未来**：单一范式已无法满足复杂应用的需求。将符号逻辑的严谨性与神经网络的泛化能力相结合的混合推理，是未来最确定的发展方向。
2. **可解释性是关键**：如何让数据驱动的推理过程变得透明、可信、可解释，是决定该技术能否在金融、医疗等高风险领域落地的核心。利用符号逻辑增强嵌入向量的可解释性是一个值得探索的研究重点。
3. **从实验室到工业界**：未来的工作需要更关注推理算法的**平台化和工具化**。构建像OpenKG这样开放、友好的项目工具，降低技术使用门槛，对于推动知识推理算法的普及和应用至关重要。
